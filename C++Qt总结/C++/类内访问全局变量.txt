/*******************shuoGG解释**********************/
---------------------------------------
//Main_menu.h:
#include <QPushButton>
extern char play_flag;	//须用extern在 .h 定义
class A{
public:    
      void  play()
    {
        if(play_flag==1)	//保险的话得:   if(::play_flag==1)  //全局命名空间为空的
        {
	... ...
        }
    }
}
-----------------------------------------
-----------------------------------------
//Main_menu.cpp:
#include "Main_menu.h"
char not_first_play_flag=0;	//须在 .cpp 实例化(初始化)
-----------------------------------------
/************************shuoGG解释_END*************************/




/******************************别人的解释************************************/
在Qt中使用全局变量的实例
1.首先需要在一个头文件中对全局了变量使用exern方法进行定义。

//g.h
extern char *testStr;
2.只能在cpp文件中对其是实例化，并且实例化只能在函数的外部进行。建议在包含main函数的cpp文件中进行实例化，这样可以确保在其他文件中使用时，它已经被实例化。


#include "g.h"
char *testStr="hello world";
void main()
{
   cout<<testStr<<endl;
   testStr="hello China";
}


3. 其他文件只要包含了g.h这个头文件，就可以修改或者访问这个全局变量，而不需要再次实例化。

//b.h
//该文件中就可以不需要实例化全局变量了。
#include "g.h"
void mytest()
{
   cout<<testStr<<endl;
}
/***************************别人的解释_END*********************************/